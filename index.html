<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Terras de Ébito - RPG</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div id="app">
        <div id="login-screen" class="screen">
            <h1>Terras de Ébito</h1>
            <button id="login-btn">Entrar com Google</button>
        </div>

        <div id="character-selection" class="screen hidden">
            <nav id="navbar">
                <div class="nav-item active" data-screen="characters">Personagens</div>
                <div class="nav-item" data-screen="settings">Configurações</div>
                <div id="admin-panel" class="hidden">
                    <div class="admin-item" data-action="weapons">Gerenciar Armas</div>
                    <div class="admin-item" data-action="spells">Gerenciar Feitiços</div>
                    <div class="admin-item" data-action="miracles">Gerenciar Milagres</div>
                    <div class="admin-item" data-action="skills">Gerenciar Ataques/Habilidades</div>
                    <div class="admin-item" data-action="equipment">Gerenciar Equipamentos</div>
                </div>
            </nav>

            <div class="main-content">
                <div class="character-slots">
                    <div class="character-slot" data-slot="1">
                        <div class="slot-content">+</div>
                    </div>
                    <div class="character-slot" data-slot="2">
                        <div class="slot-content">+</div>
                    </div>
                    <div class="character-slot" data-slot="3">
                        <div class="slot-content">+</div>
                    </div>
                    <div class="character-slot" data-slot="4">
                        <div class="slot-content">+</div>
                    </div>
                </div>
            </div>
        </div>

        <div id="character-sheet" class="screen hidden">
            <nav id="navbar-sheet">
                <div class="nav-item active" data-screen="back">Voltar</div>
                <div class="nav-item" id="theme-toggle">Modo Claro</div>
            </nav>

            <div class="main-content">
                <div class="character-header">
                    <div class="bars">
                        <div class="bar">
                            <label>Vida:</label>
                            <div class="bar-container">
                                <div class="bar-fill" id="hp-bar"></div>
                            </div>
                            <span id="hp-text">0/0</span>
                            <button class="bar-btn" data-bar="hp" data-action="decrease">-</button>
                            <button class="bar-btn" data-bar="hp" data-action="increase">+</button>
                        </div>
                        <div class="bar">
                            <label>Mana:</label>
                            <div class="bar-container">
                                <div class="bar-fill" id="mana-bar"></div>
                            </div>
                            <span id="mana-text">0/0</span>
                            <button class="bar-btn" data-bar="mana" data-action="decrease">-</button>
                            <button class="bar-btn" data-bar="mana" data-action="increase">+</button>
                        </div>
                        <div class="bar">
                            <label>Estamina:</label>
                            <div class="bar-container">
                                <div class="bar-fill" id="stamina-bar"></div>
                            </div>
                            <span id="stamina-text">0/0</span>
                            <button class="bar-btn" data-bar="stamina" data-action="decrease">-</button>
                            <button class="bar-btn" data-bar="stamina" data-action="increase">+</button>
                        </div>
                        <div class="coin-counter">
                            <label>Moedas:</label>
                            <input type="number" id="coins" min="0" value="0">
                        </div>
                    </div>
                    <button id="edit-character-btn">Editar Ficha</button>
                </div>

                <div class="stats-grid">
                    <div class="stat-box">
                        <h3>Bravura</h3>
                        <div class="stat-value" id="bravura">0</div>
                        <div class="stat-edit-controls">
                            <button class="stat-btn" data-stat="bravura" data-action="decrease">-</button>
                            <span class="stat-edit-value" id="bravura-edit">0</span>
                            <button class="stat-btn" data-stat="bravura" data-action="increase">+</button>
                        </div>
                    </div>
                    <div class="stat-box">
                        <h3>Arcana</h3>
                        <div class="stat-value" id="arcana">0</div>
                        <div class="stat-edit-controls">
                            <button class="stat-btn" data-stat="arcana" data-action="decrease">-</button>
                            <span class="stat-edit-value" id="arcana-edit">0</span>
                            <button class="stat-btn" data-stat="arcana" data-action="increase">+</button>
                        </div>
                    </div>
                    <div class="stat-box">
                        <h3>Técnica</h3>
                        <div class="stat-value" id="tecnica">0</div>
                        <div class="stat-edit-controls">
                            <button class="stat-btn" data-stat="tecnica" data-action="decrease">-</button>
                            <span class="stat-edit-value" id="tecnica-edit">0</span>
                            <button class="stat-btn" data-stat="tecnica" data-action="increase">+</button>
                        </div>
                    </div>
                    <div class="stat-box">
                        <h3>Fôlego</h3>
                        <div class="stat-value" id="folego">0</div>
                        <div class="stat-edit-controls">
                            <button class="stat-btn" data-stat="folego" data-action="decrease">-</button>
                            <span class="stat-edit-value" id="folego-edit">0</span>
                            <button class="stat-btn" data-stat="folego" data-action="increase">+</button>
                        </div>
                    </div>
                    <div class="stat-box">
                        <h3>Essência</h3>
                        <div class="stat-value" id="essencia">0</div>
                        <div class="stat-edit-controls">
                            <button class="stat-btn" data-stat="essencia" data-action="decrease">-</button>
                            <span class="stat-edit-value" id="essencia-edit">0</span>
                            <button class="stat-btn" data-stat="essencia" data-action="increase">+</button>
                        </div>
                    </div>
                    <div class="stat-box">
                        <h3>Intelecto</h3>
                        <div class="stat-value" id="intelecto">0</div>
                        <div class="stat-edit-controls">
                            <button class="stat-btn" data-stat="intelecto" data-action="decrease">-</button>
                            <span class="stat-edit-value" id="intelecto-edit">0</span>
                            <button class="stat-btn" data-stat="intelecto" data-action="increase">+</button>
                        </div>
                    </div>
                </div>

                <div class="equipment-section">
                    <div class="equipment-container">
                        <h3>Armas</h3>
                        <div id="weapons-list" class="item-list"></div>
                        <button class="add-item-btn" data-type="weapons">Adicionar Arma</button>
                    </div>
                    <div class="equipment-container">
                        <h3>Feitiços</h3>
                        <div id="spells-list" class="item-list"></div>
                        <button class="add-item-btn" data-type="spells">Adicionar Feitiço</button>
                    </div>
                    <div class="equipment-container">
                        <h3>Milagres</h3>
                        <div id="miracles-list" class="item-list"></div>
                        <button class="add-item-btn" data-type="miracles">Adicionar Milagre</button>
                    </div>
                    <div class="equipment-container">
                        <h3>Ataques/Habilidades</h3>
                        <div id="skills-list" class="item-list"></div>
                        <button class="add-item-btn" data-type="skills">Adicionar Ataque/Habilidade</button>
                    </div>
                    <div class="equipment-container">
                        <h3>Equipamentos</h3>
                        <div id="equipment-list" class="item-list"></div>
                        <button class="add-item-btn" data-type="equipment">Adicionar Equipamento</button>
                    </div>
                </div>

                <div class="inventory-section">
                    <h3>Inventário</h3>
                    <div id="inventory-list" class="item-list"></div>
                    <button class="add-item-btn" data-type="inventory">Adicionar Item</button>
                </div>

                <div class="notes-section">
                    <h3>Anotações</h3>
                    <textarea id="notes" placeholder="Digite suas anotações aqui..."></textarea>
                </div>

                <div class="notes-section">
                    <h3>Descrição de História</h3>
                    <textarea id="history" placeholder="Digite a descrição de história..."></textarea>
                </div>

                <div class="notes-section">
                    <h3>Descrição de Aparência</h3>
                    <textarea id="appearance" placeholder="Digite a descrição de aparência..."></textarea>
                </div>
            </div>
        </div>

        <!-- Modals -->
        <div id="character-create-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Criar Personagem</h2>
                <form id="character-form">
                    <div class="form-group">
                        <label for="char-name">Nome do Personagem *</label>
                        <input type="text" id="char-name" name="char-name" required>
                    </div>
                    <div class="form-group">
                        <label for="char-class">Classe *</label>
                        <select id="char-class" name="char-class">
                            <option value="" disabled selected>Selecione uma classe</option>
                            <option value="Arcanista">Arcanista</option>
                            <option value="Escudeiro">Escudeiro</option>
                            <option value="Errante">Errante</option>
                            <option value="Luminar">Luminar</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="char-path">Caminho</label>
                        <input type="text" id="char-path" name="char-path">
                    </div>
                    <div class="form-group">
                        <label>Status (7 pontos para distribuir)</label>
                        <div class="stats-distribution">
                            <div class="stat-input">
                                <label for="bravura-input">Bravura:</label>
                                <input type="number" id="bravura-input" min="-1" value="0">
                            </div>
                            <div class="stat-input">
                                <label for="arcana-input">Arcana:</label>
                                <input type="number" id="arcana-input" min="-1" value="0">
                            </div>
                            <div class="stat-input">
                                <label for="tecnica-input">Técnica:</label>
                                <input type="number" id="tecnica-input" min="-1" value="0">
                            </div>
                            <div class="stat-input">
                                <label for="folego-input">Fôlego:</label>
                                <input type="number" id="folego-input" min="-1" value="0">
                            </div>
                            <div class="stat-input">
                                <label for="essencia-input">Essência:</label>
                                <input type="number" id="essencia-input" min="-1" value="0">
                            </div>
                            <div class="stat-input">
                                <label for="intelecto-input">Intelecto:</label>
                                <input type="number" id="intelecto-input" min="-1" value="0">
                            </div>
                        </div>
                        <div id="points-remaining">Pontos restantes: 7</div>
                    </div>
                    <div class="form-group">
                        <label for="char-history">Descrição de História</label>
                        <textarea id="char-history" name="char-history"></textarea>
                    </div>
                    <div class="form-group">
                        <label for="char-appearance">Descrição de Aparência</label>
                        <textarea id="char-appearance" name="char-appearance"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" id="cancel-create">Cancelar</button>
                        <button type="submit">Criar Personagem</button>
                    </div>
                </form>
            </div>
        </div>

        <div id="admin-modal" class="modal hidden">
            <div class="modal-content">
                <h2 id="admin-modal-title">Gerenciar Itens</h2>
                <div id="admin-items-list"></div>
                <div id="admin-form" style="display: none;">
                    <h3 id="admin-form-title">Adicionar Item</h3>
                    <form id="admin-item-form">
                        <div class="form-group">
                            <label for="item-name">Nome</label>
                            <input type="text" id="item-name" required>
                        </div>
                        <div class="form-group">
                            <label for="item-description">Descrição</label>
                            <textarea id="item-description"></textarea>
                        </div>
                        <div class="form-group">
                            <label for="item-damage">Dano</label>
                            <input type="text" id="item-damage">
                        </div>
                        <div class="form-group">
                            <label for="item-cost">Custo</label>
                            <input type="number" id="item-cost">
                        </div>
                        <div class="form-actions">
                            <button type="button" id="cancel-admin-form">Cancelar</button>
                            <button type="submit">Salvar</button>
                        </div>
                    </form>
                </div>
                <div class="form-actions">
                    <button type="button" id="close-admin">Fechar</button>
                    <button type="button" id="add-admin-item">Adicionar Item</button>
                </div>
            </div>
        </div>

        <div id="add-equipment-modal" class="modal hidden">
            <div class="modal-content">
                <h2 id="add-equipment-title">Adicionar Item</h2>
                <div id="add-equipment-list"></div>
                <div class="form-actions">
                    <button id="close-add-equipment">Fechar</button>
                </div>
            </div>
        </div>

        <div id="add-inventory-modal" class="modal hidden">
            <div class="modal-content">
                <h2>Adicionar Item ao Inventário</h2>
                <form id="inventory-form">
                    <div class="form-group">
                        <label for="inv-name">Nome</label>
                        <input type="text" id="inv-name" required>
                    </div>
                    <div class="form-group">
                        <label for="inv-weight">Peso</label>
                        <input type="number" id="inv-weight" step="0.1" min="0">
                    </div>
                    <div class="form-group">
                        <label for="inv-description">Descrição</label>
                        <textarea id="inv-description"></textarea>
                    </div>
                    <div class="form-actions">
                        <button type="button" id="cancel-inventory">Cancelar</button>
                        <button type="submit">Adicionar</button>
                    </div>
                </form>
            </div>
        </div>
    </div>

    <script type="module" src="firebase.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
